## 功能目标
- 点击底部中间拍照按钮，进入“识别小人脸”页面：拍照或选图→检测合照中所有人脸→自动裁剪放大→列表浏览并可勾选取消。
- 输入新班级名称，将勾选的人脸以“学生1、学生2…”导入为该班级学生，并用裁剪后图片作为头像。
- 修复缓存清理：清理临时缓存与检测输出目录，释放空间统计准确。

## 实现方案
### 新页面与入口
- 新增 `ui.face.FaceMiniDetectActivity`：拍照/选图、检测、展示、勾选、输入班级名、导入学生。
- `MainActivity` 的 `fabCameraPunch` 点击跳转到该页面。

### 人脸检测
- 新增 `utils.RetinaFaceTFLiteDetector`：加载 `assets/models/retinaface/FaceDetector_float16.tflite` 或 `float32`，进行推理输出人脸框；若加载或解码失败则回退 `YuNetTFLiteDetector`。
- 对每个框执行裁剪并适度边缘扩展，生成人脸位图，保存到临时缓存目录。

### 浏览与选择
- 复用 `FaceSegmentationAdapter` 网格展示裁剪人脸，支持复选与大图查看。
- 页面包含输入框“班级名称”、按钮“导入为学生”。

### 导入学生
- 从 `SharedPreferences("user_prefs")` 获取当前 `teacher_id`；用 `DatabaseHelper.insertClassroom` 创建班级（`year=当前年`，`meta` 写入来源描述）。
- 对勾选的人脸：生成学生名“学生1…”，`sid` 从1递增；将临时图片复制到 `PhotoStorageManager.getAvatarPhotosDir`，把目标路径写入 `avatarUri`；调用 `DatabaseHelper.insertStudent` 保存。

### 缓存清理修复
- 在 `CacheManager` 的“全部清理”中追加删除 `PhotoStorageManager.getSegmentedFacesRootDir` 与 `getProcessedFacesRootDir` 下所有会话目录，释放空间统计包含这些目录；临时缓存删除保持不变。

## 变更文件
- `app/src/main/java/com/example/facecheck/MainActivity.java`：`fab` 跳转。
- `app/src/main/java/com/example/facecheck/ui/face/FaceMiniDetectActivity.java`：新页面。
- `app/src/main/java/com/example/facecheck/utils/RetinaFaceTFLiteDetector.java`：新检测器（失败回退 YuNet）。
- `app/src/main/res/layout/activity_face_mini_detect.xml`：新页面布局。
- `app/src/main/java/com/example/facecheck/utils/CacheManager.java`：增强清理范围与统计。

## 验证
- 组装构建通过。
- 实测拍照识别并导入学生，头像写入 `avatars`，班级含新学生。
- 清理缓存后再次计算大小不为“0B”且目录实际被清除。

## 说明
- 检测器首选 RetinaFace，无法解码即自动回退 YuNet，多设备稳健运行。