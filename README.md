# FaceCheck - æ™ºèƒ½äººè„¸è¯†åˆ«è€ƒå‹¤ç³»ç»Ÿ

[![Android](https://img.shields.io/badge/Android-6.0%2B-brightgreen.svg)](https://www.android.com/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Kotlin](https://img.shields.io/badge/Kotlin-100%25-orange.svg)](https://kotlinlang.org/)

<div align="center">
  <img src="app/src/main/res/drawable/facecheck.png" alt="FaceCheck Logo" width="120" height="120"/>
  <br/>
  <img src="app/src/main/res/drawable/fclogo.png" alt="FaceCheck" width="200" height="60"/>
</div>

## ðŸ“± é¡¹ç›®ç®€ä»‹

<div align="center">
  
  <span style="font-size: 24px; font-weight: bold; vertical-align: middle;">FaceCheck æ™ºèƒ½äººè„¸è¯†åˆ«è€ƒå‹¤ç³»ç»Ÿ</span>
</div>

FaceCheck æ˜¯ä¸€æ¬¾åŸºäºŽäººè„¸è¯†åˆ«æŠ€æœ¯çš„æ™ºèƒ½è€ƒå‹¤ç³»ç»Ÿï¼Œä¸“ä¸ºæ•™è‚²åœºæ™¯è®¾è®¡ã€‚ç³»ç»Ÿé‡‡ç”¨å…ˆè¿›çš„äººè„¸è¯†åˆ«ç®—æ³•ï¼Œæ”¯æŒå¤šäººåŒæ—¶è¯†åˆ«ï¼Œæä¾›å®Œæ•´çš„è€ƒå‹¤ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ðŸŽ¯ é«˜ç²¾åº¦äººè„¸è¯†åˆ«**ï¼šåŸºäºŽ Google ML Kitï¼Œæ”¯æŒå¤šäººè„¸åŒæ—¶æ£€æµ‹ä¸Žè¯†åˆ«
- **ðŸ“Š æ™ºèƒ½è€ƒå‹¤ç®¡ç†**ï¼šå®Œæ•´çš„è€ƒå‹¤æµç¨‹ï¼Œä»Žæ‹ç…§åˆ°ç»“æžœç»Ÿè®¡
- **â˜ï¸ äº‘ç«¯æ•°æ®åŒæ­¥**ï¼šWebDAV åè®®æ”¯æŒï¼Œå®žçŽ°å¤šè®¾å¤‡æ•°æ®åŒæ­¥
- **ðŸ”’ å®‰å…¨å¯é **ï¼šæœ¬åœ°+äº‘ç«¯åŒé‡å­˜å‚¨ï¼Œä¿éšœæ•°æ®å®‰å…¨
- **ðŸ“± çŽ°ä»£åŒ–ç•Œé¢**ï¼šMaterial Design è®¾è®¡ï¼Œç”¨æˆ·ä½“éªŒå‹å¥½
- **âš¡ é«˜æ€§èƒ½å¤„ç†**ï¼šå¼‚æ­¥å¤„ç†æœºåˆ¶ï¼Œå“åº”é€Ÿåº¦å¿«

## ðŸ—ï¸ æŠ€æœ¯æž¶æž„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| **Google ML Kit** | äººè„¸æ£€æµ‹ä¸Žç‰¹å¾æå– |
| **SQLite** | æœ¬åœ°æ•°æ®å­˜å‚¨ |
| **WebDAV** | äº‘ç«¯æ•°æ®åŒæ­¥ |
| **Glide** | å›¾ç‰‡åŠ è½½ä¸Žç¼“å­˜ |
| **Material Design** | UI ç•Œé¢è®¾è®¡ |
| **MVVM æž¶æž„** | åº”ç”¨æž¶æž„æ¨¡å¼ |

### é¡¹ç›®ç»“æž„

```
com.example.facecheck/
â”œâ”€â”€ ui/                    # UI ç•Œé¢å±‚
â”‚   â”œâ”€â”€ auth/             # è®¤è¯ç›¸å…³ç•Œé¢
â”‚   â”œâ”€â”€ attendance/       # è€ƒå‹¤åŠŸèƒ½ç•Œé¢
â”‚   â”œâ”€â”€ face/             # äººè„¸è¯†åˆ«ç•Œé¢
â”‚   â”œâ”€â”€ profile/          # ç”¨æˆ·èµ„æ–™ç•Œé¢
â”‚   â””â”€â”€ classroom/        # æ•™å®¤ç®¡ç†ç•Œé¢
â”œâ”€â”€ utils/                # å·¥å…·ç±»
â”‚   â”œâ”€â”€ FaceRecognitionManager.java    # äººè„¸è¯†åˆ«ç®¡ç†å™¨
â”‚   â”œâ”€â”€ FaceDetectionManager.java      # äººè„¸æ£€æµ‹ç®¡ç†å™¨
â”‚   â”œâ”€â”€ FaceImageProcessor.java        # äººè„¸å›¾åƒå¤„ç†
â”‚   â””â”€â”€ SyncManager.java               # æ•°æ®åŒæ­¥ç®¡ç†å™¨
â”œâ”€â”€ database/             # æ•°æ®åº“ç›¸å…³
â”œâ”€â”€ sync/                 # æ•°æ®åŒæ­¥
â”œâ”€â”€ webdav/               # WebDAV é€šä¿¡
â””â”€â”€ data/                 # æ•°æ®æ¨¡åž‹ä¸Žä»“åº“
```

## ðŸš€ å¿«é€Ÿå¼€å§‹

### çŽ¯å¢ƒè¦æ±‚

- **Android Studio**: Arctic Fox æˆ–æ›´é«˜ç‰ˆæœ¬
- **æœ€ä½Ž Android ç‰ˆæœ¬**: API 23 (Android 6.0)
- **ç›®æ ‡ Android ç‰ˆæœ¬**: API 34
- **Java/Kotlin**: JDK 11 æˆ–æ›´é«˜ç‰ˆæœ¬

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/tonygyf/FaceCheck.git
cd FaceCheck
```

2. **æ‰“å¼€é¡¹ç›®**
- ä½¿ç”¨ Android Studio æ‰“å¼€é¡¹ç›®æ ¹ç›®å½•
- ç­‰å¾… Gradle åŒæ­¥å®Œæˆ

3. **é…ç½®é¡¹ç›®**
- åœ¨ `local.properties` ä¸­æ·»åŠ å¿…è¦çš„é…ç½®
- æ£€æŸ¥ä¾èµ–é¡¹æ˜¯å¦æ­£ç¡®ä¸‹è½½

4. **æž„å»ºä¸Žè¿è¡Œ**
```bash
# æž„å»ºè°ƒè¯•ç‰ˆæœ¬
./gradlew assembleDebug

# å®‰è£…åˆ°è®¾å¤‡
./gradlew installDebug
```

### å¼€å‘çŽ¯å¢ƒé…ç½®

åœ¨ `local.properties` æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```properties
# WebDAV é…ç½®ï¼ˆå¯é€‰ï¼‰
webdav.url=your_webdav_server_url
webdav.username=your_username
webdav.password=your_password
```

## ðŸ“‹ åŠŸèƒ½è¯¦è§£

### ðŸ” ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

- **ç”¨æˆ·æ³¨å†Œ**: æ”¯æŒæ•™å¸ˆè´¦æˆ·æ³¨å†Œï¼Œç”¨æˆ·åå”¯ä¸€æ€§éªŒè¯
- **å®‰å…¨ç™»å½•**: å¯†ç åŠ å¯†å­˜å‚¨ï¼Œæ”¯æŒè®°ä½å¯†ç åŠŸèƒ½
- **è‡ªåŠ¨ç™»å½•**: åŸºäºŽ SharedPreferences çš„è‡ªåŠ¨ç™»å½•æœºåˆ¶
- **ç”¨æˆ·èµ„æ–™**: å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯ç®¡ç†åŠŸèƒ½

### ðŸ‘¤ äººè„¸è¯†åˆ«æ ¸å¿ƒ

#### äººè„¸æ£€æµ‹
- åŸºäºŽ Google ML Kit çš„å¤šäººè„¸æ£€æµ‹
- æ”¯æŒäººè„¸è½®å»“ã€å…³é”®ç‚¹æ£€æµ‹
- å®žæ—¶äººè„¸è´¨é‡è¯„ä¼°

#### ç‰¹å¾æå–
```java
// 256ç»´ç‰¹å¾å‘é‡æå–
float[] features = faceRecognitionManager.extractFaceFeatures(bitmap, face);
```

#### äººè„¸æ¯”å¯¹
- ç›¸ä¼¼åº¦é˜ˆå€¼æŽ§åˆ¶ï¼ˆé»˜è®¤ 0.75ï¼‰
- æ”¯æŒæ‰¹é‡äººè„¸è¯†åˆ«
- è¯†åˆ«ç»“æžœå¯è§†åŒ–å±•ç¤º

### ðŸ“Š è€ƒå‹¤ç®¡ç†

#### è€ƒå‹¤æµç¨‹
1. **æ‹ç…§é‡‡é›†**: æ”¯æŒç›¸æœºæ‹ç…§å’Œç›¸å†Œé€‰æ‹©
2. **äººè„¸æ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹ç…§ç‰‡ä¸­çš„äººè„¸
3. **ç‰¹å¾æ¯”å¯¹**: ä¸Žæ•°æ®åº“ä¸­çš„äººè„¸ç‰¹å¾è¿›è¡Œæ¯”å¯¹
4. **ç»“æžœç»Ÿè®¡**: ç”Ÿæˆè€ƒå‹¤ç»Ÿè®¡æŠ¥å‘Š

#### è€ƒå‹¤è®°å½•
- å®Œæ•´çš„è€ƒå‹¤ä¼šè¯ç®¡ç†
- è¯¦ç»†çš„è€ƒå‹¤ç»“æžœè®°å½•
- æ”¯æŒè€ƒå‹¤æ•°æ®å¯¼å‡ºå’Œåˆ†äº«

### â˜ï¸ æ•°æ®åŒæ­¥

#### WebDAV åŒæ­¥
- æ”¯æŒä¸»æµ WebDAV æœåŠ¡å™¨ï¼ˆNextcloudã€ownCloud ç­‰ï¼‰
- è‡ªåŠ¨åŒæ­¥æ•°æ®åº“å’Œå¤šåª’ä½“æ–‡ä»¶
- å¢žé‡åŒæ­¥æœºåˆ¶ï¼ŒèŠ‚çœæµé‡
- åŒæ­¥çŠ¶æ€å®žæ—¶ç›‘æŽ§

#### åŒæ­¥å†…å®¹
- æ•™å¸ˆå’Œå­¦ç”Ÿä¿¡æ¯
- äººè„¸ç‰¹å¾æ•°æ®
- è€ƒå‹¤è®°å½•å’Œç…§ç‰‡
- ç³»ç»Ÿé…ç½®ä¿¡æ¯

## ðŸ› ï¸ æ ¸å¿ƒç®—æ³•

### äººè„¸è¯†åˆ«ç®—æ³•

```java
public RecognitionResult recognizeFace(Bitmap faceBitmap, Face face) {
    // 1. æå–äººè„¸ç‰¹å¾å‘é‡
    float[] queryFeatures = extractFaceFeatures(faceBitmap, face);
    
    // 2. ä¸Žæ•°æ®åº“ä¸­çš„ç‰¹å¾è¿›è¡Œæ¯”å¯¹
    float bestSimilarity = calculateSimilarity(queryFeatures, storedFeatures);
    
    // 3. è¿”å›žè¯†åˆ«ç»“æžœ
    return new RecognitionResult(studentId, similarity, status);
}
```

### å›¾åƒè´¨é‡è¯„ä¼°

```java
public static float calculateImageQuality(Bitmap bitmap) {
    // è®¡ç®—å›¾åƒæ¸…æ™°åº¦ã€å¯¹æ¯”åº¦ç­‰æŒ‡æ ‡
    // è¿”å›ž 0-1 çš„è´¨é‡è¯„åˆ†
}
```

## ðŸ“ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒæ•°æ®è¡¨

| è¡¨å | æè¿° |
|------|------|
| `Teacher` | æ•™å¸ˆè´¦æˆ·ä¿¡æ¯ |
| `Student` | å­¦ç”ŸåŸºæœ¬ä¿¡æ¯ |
| `FaceEmbedding` | äººè„¸ç‰¹å¾å‘é‡ |
| `AttendanceSession` | è€ƒå‹¤ä¼šè¯è®°å½• |
| `AttendanceResult` | è€ƒå‹¤ç»“æžœè¯¦æƒ… |
| `PhotoAsset` | ç…§ç‰‡èµ„æºç®¡ç† |
| `SyncLog` | åŒæ­¥æ—¥å¿—è®°å½• |

## ðŸ§ª æµ‹è¯•ä¸ŽéªŒè¯

### æ€§èƒ½æŒ‡æ ‡

- **è¯†åˆ«å‡†ç¡®çŽ‡**: > 95%ï¼ˆåœ¨æ ‡å‡†æµ‹è¯•é›†ä¸‹ï¼‰
- **è¯†åˆ«é€Ÿåº¦**: < 500msï¼ˆå•å¼ äººè„¸ï¼‰
- **æ”¯æŒäººè„¸æ•°**: åŒæ—¶è¯†åˆ« 10+ äººè„¸
- **æ•°æ®åº“å®¹é‡**: æ”¯æŒ 10000+ äººè„¸ç‰¹å¾å­˜å‚¨

### å…¼å®¹æ€§æµ‹è¯•

- âœ… Android 6.0 - Android 14
- âœ… å„ç§å±å¹•å°ºå¯¸å’Œåˆ†è¾¨çŽ‡
- âœ… ä¸åŒåŽ‚å•†è®¾å¤‡å…¼å®¹æ€§

## ðŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **éµå¾ª MVVM æž¶æž„æ¨¡å¼**
2. **ä½¿ç”¨ Repository æ¨¡å¼ç®¡ç†æ•°æ®è®¿é—®**
3. **å¼‚æ­¥æ“ä½œä½¿ç”¨ Kotlin åç¨‹**
4. **UI æ›´æ–°å¿…é¡»åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ**

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ Kotlin ç¼–ç è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
- éµå¾ª Material Design è®¾è®¡åŽŸåˆ™
- è¿›è¡Œå……åˆ†çš„å¼‚å¸¸å¤„ç†

## ðŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿Žç¤¾åŒºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æŽ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### è´¡çŒ®ç±»åž‹

- ðŸ› **Bug ä¿®å¤**: æŠ¥å‘Šå¹¶ä¿®å¤ç¨‹åºé”™è¯¯
- âœ¨ **æ–°åŠŸèƒ½**: æ·»åŠ æ–°çš„åŠŸèƒ½ç‰¹æ€§
- ðŸ“š **æ–‡æ¡£**: æ”¹è¿›é¡¹ç›®æ–‡æ¡£
- ðŸŽ¨ **UI/UX**: ä¼˜åŒ–ç”¨æˆ·ç•Œé¢å’Œä½“éªŒ
- âš¡ **æ€§èƒ½**: æå‡ç³»ç»Ÿæ€§èƒ½

## ðŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ðŸ™ è‡´è°¢

- [Google ML Kit](https://developers.google.com/ml-kit) - æä¾›å¼ºå¤§çš„äººè„¸è¯†åˆ«èƒ½åŠ›
- [Material Design](https://material.io/design) - ä¼˜ç§€çš„è®¾è®¡è§„èŒƒ
- [Glide](https://github.com/bumptech/glide) - é«˜æ•ˆçš„å›¾ç‰‡åŠ è½½åº“

## ðŸ“ž æ”¯æŒä¸Žè”ç³»

- **é¡¹ç›®åœ°å€**: [https://github.com/tonygyf/FaceCheck](https://github.com/tonygyf/FaceCheck)
- **é—®é¢˜åé¦ˆ**: è¯·åœ¨ GitHub Issues ä¸­æäº¤
- **åŠŸèƒ½å»ºè®®**: æ¬¢è¿Žæå‡ºæ–°åŠŸèƒ½å»ºè®®

---

**â­ å¦‚æžœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**
